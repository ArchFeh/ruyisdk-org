<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>RuyiSDK Blog</title>
        <link>https://arhchfeh.github.io/ruyisdk-org/de/blog</link>
        <description>RuyiSDK Blog</description>
        <lastBuildDate>Mon, 08 Jul 2024 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>de</language>
        <item>
            <title><![CDATA[尝鲜：使用 Box64 在 RISC-V 系统上运行 WPS Office]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN</guid>
            <pubDate>Mon, 08 Jul 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[得益于 Box64 RISC-V 移植工作的进展，在 RISC-V Linux 桌面发行版上运行 WPS]]></description>
            <content:encoded><![CDATA[<p>得益于 Box64 RISC-V 移植工作的进展，在 RISC-V Linux 桌面发行版上运行 WPS
Office 等常见 x86 二进制软件已成为可能。RuyiSDK 正在开展此方面的集成工作；
按以下的步骤操作，您将能先行一步感受 RISC-V 办公体验。</p>
<p>我们假定您在进行以下操作之前，已经升级到了 <code>ruyi</code> 0.14.0 或更高的版本，
并执行了 <code>ruyi update</code> 以将软件源信息同步到最新。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="操作步骤">操作步骤<a class="hash-link" aria-label="Direkter Link zur 操作步骤" title="Direkter Link zur 操作步骤" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4">​</a></h2>
<p>为叙述方便，设您的 <code>$HOME</code> 为 <code>/home/foo</code>，架构（<code>uname -m</code> 输出）为
<code>riscv64</code>，使用 <code>sudo</code> 提权。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="允许安装预发布版本的软件包">允许安装预发布版本的软件包<a class="hash-link" aria-label="Direkter Link zur 允许安装预发布版本的软件包" title="Direkter Link zur 允许安装预发布版本的软件包" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E5%85%81%E8%AE%B8%E5%AE%89%E8%A3%85%E9%A2%84%E5%8F%91%E5%B8%83%E7%89%88%E6%9C%AC%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%8C%85">​</a></h3>
<p>由于 Box64 RISC-V 支持进展迅速，目前（2024 年 7 月初）很多功能改进没有在
其最新稳定版本得到体现。我们打包了 Box64 的开发快照版本；为了能够安装此版本，
您需要配置 <code>ruyi</code> 以使其在安装软件包时考虑预发布版本。</p>
<ul>
<li>如果 <code>~/.config/ruyi</code> 目录不存在，则创建之。</li>
<li>编辑 <code>~/.config/ruyi/config.toml</code>。</li>
</ul>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[packages]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">prereleases = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="安装-box64">安装 Box64<a class="hash-link" aria-label="Direkter Link zur 安装 Box64" title="Direkter Link zur 安装 Box64" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E5%AE%89%E8%A3%85-box64">​</a></h3>
<p>按照 RuyiSDK 软件包的命名习惯，从 Box64 的上游（而非 PLCT 或某些厂商的 fork）
构建的 Box64 二进制包，名字叫 <code>box64-upstream</code>。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ruyi </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> box64-upstream</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># info: package box64-upstream-0.2.8-ruyi.20240702 installed to /home/foo/.local/share/ruyi/binaries/riscv64/box64-upstream-0.2.8-ruyi.20240702</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>记下安装路径。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="配置-linux-binfmt_misc-机制">配置 Linux <code>binfmt_misc</code> 机制<a class="hash-link" aria-label="Direkter Link zur 配置-linux-binfmt_misc-机制" title="Direkter Link zur 配置-linux-binfmt_misc-机制" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E9%85%8D%E7%BD%AE-linux-binfmt_misc-%E6%9C%BA%E5%88%B6">​</a></h3>
<p>由于 WPS Office 的打包方式特殊，它只能从开发商提供的启动器脚本被间接拉起，
而不能直接交由 Box64 启动。因此您需要确保您的系统支持 <code>binfmt_misc</code>：
如果不支持，接下来的操作会失败。</p>
<p>不同 Linux 发行版的 <code>binfmt_misc</code> 配置方式不尽相同，以下针对采用 systemd
的系统叙述。您可以根据自身情况自行调整。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 确认 Box64 可执行文件的位置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"> /home/foo/.local/share/ruyi/binaries/riscv64/box64-upstream-0.2.8-ruyi.20240702/bin/box64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 调整 Box64 `binfmt.d` 配置文件的路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 假设您使用 nano 编辑器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">nano</span><span class="token plain"> /home/foo/.local/share/ruyi/binaries/riscv64/box64-upstream-0.2.8-ruyi.20240702/etc/binfmt.d/box64.conf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 将行尾的 //bin/box64 改为先前验证过的绝对路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 将其部署到系统</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">cp</span><span class="token plain"> /home/foo/.local/share/ruyi/binaries/riscv64/box64-upstream-0.2.8-ruyi.20240702/etc/binfmt.d/box64.conf /etc/binfmt.d/box64.conf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl restart systemd-binfmt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 检查部署结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">cat</span><span class="token plain"> /proc/sys/fs/binfmt_misc/box64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="安装-x86-sysroot">安装 x86 sysroot<a class="hash-link" aria-label="Direkter Link zur 安装 x86 sysroot" title="Direkter Link zur 安装 x86 sysroot" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E5%AE%89%E8%A3%85-x86-sysroot">​</a></h3>
<p>由于 Box64 主要面向游戏等软件的模拟，而这些软件基本都自带所有依赖，所以 Box64
本身基本没有自带什么 x86 运行时库。WPS Office 作为一个预期被系统包管理器管理的
桌面应用，Box64 自带的少量 x86 运行时库无法满足它的需求，因此我们需要自行准备
x86 环境。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 下载预制的 x86 sysroot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 此为临时性的链接。后续待本功能迭代稳定之后，操作方式将改变，此链接也将失效</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 假设此文件放在了 ~/Downloads 目录下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">wget</span><span class="token plain"> https://mirror.iscas.ac.cn/ruyisdk/dist/temp/debian-bookworm.gui.20240705.amd64.tar.zst</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 假设安装到 /opt/debian-bookworm.amd64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> /opt/debian-bookworm.amd64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">pushd</span><span class="token plain"> /opt/debian-bookworm.amd64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">tar</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-xf</span><span class="token plain"> ~/Downloads/debian-bookworm.gui.20240705.amd64.tar.zst</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="安装-wps-office">安装 WPS Office<a class="hash-link" aria-label="Direkter Link zur 安装 WPS Office" title="Direkter Link zur 安装 WPS Office" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E5%AE%89%E8%A3%85-wps-office">​</a></h3>
<p>强制安装 <code>x86_64</code> 架构的 WPS Office 软件包：</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ruyi </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--host</span><span class="token plain"> x86_64 wps-office</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># info: package wps-office-11.1.0-r.11719 installed to /home/foo/.local/share/ruyi/binaries/x86_64/wps-office-11.1.0-r.11719</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>由于 WPS Office 官方下载页面的限制，<code>ruyi</code> 无法自动下载安装包。
请按照提示信息操作，之后重新执行该命令以安装。</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="调整-wps-office-启动器脚本">调整 WPS Office 启动器脚本<a class="hash-link" aria-label="Direkter Link zur 调整 WPS Office 启动器脚本" title="Direkter Link zur 调整 WPS Office 启动器脚本" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E8%B0%83%E6%95%B4-wps-office-%E5%90%AF%E5%8A%A8%E5%99%A8%E8%84%9A%E6%9C%AC">​</a></h3>
<p>由于 WPS Office 预期自身被系统包管理器管理，它的启动器脚本假定了自身的安装路径
为 <code>/opt/kingsoft/wps-office</code>，需要为它们打补丁。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">pushd</span><span class="token plain"> /home/foo/.local/share/ruyi/binaries/x86_64/wps-office-11.1.0-r.11719</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 当前工作目录路径中应当不含特殊字符。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 如果含有，请自行适当调整 sed 命令的参数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sed</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-i</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"s@gInstallPath=/@gInstallPath=</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token string variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">pwd</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token string" style="color:rgb(255, 121, 198)">/@"</span><span class="token plain"> ./usr/bin/*</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="运行-wps-office">运行 WPS Office<a class="hash-link" aria-label="Direkter Link zur 运行 WPS Office" title="Direkter Link zur 运行 WPS Office" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E8%BF%90%E8%A1%8C-wps-office">​</a></h3>
<p>准备工作终于完成，现在将所有部分串起来：</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># 此动态链接库的原生转发仍有些问题，因此强制以模拟方式执行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">BOX64_EMULATED_LIBS</span><span class="token operator">=</span><span class="token plain">libsqlite3.so.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 配置 Box64 库搜索路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">BOX64_LD_LIBRARY_PATH</span><span class="token operator">=</span><span class="token plain">/opt/debian-bookworm.amd64/usr/lib/x86_64-linux-gnu</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># 现在可以执行了！</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/home/foo/.local/share/ruyi/binaries/x86_64/wps-office-11.1.0-r.11719/usr/bin/wps</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="结语">结语<a class="hash-link" aria-label="Direkter Link zur 结语" title="Direkter Link zur 结语" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/07/08/box64-wps-office-poc.zh_CN#%E7%BB%93%E8%AF%AD">​</a></h2>
<p>以上是 RuyiSDK 对 RISC-V 二进制翻译 x86 软件的初步集成成果。
今后我们仍将迭代这一过程的用户体验，以期用户在 RISC-V 系统上运行需要的应用
更加方便。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[RuyiSDK 0.12 版本更新说明]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/06/11/ruyi-0.12.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/06/11/ruyi-0.12.zh_CN</guid>
            <pubDate>Tue, 11 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[RuyiSDK 0.12 现已发布，对应的包管理器版本也为 0.12.0。您可前往以下位置之一下载 RuyiSDK 包管理器：]]></description>
            <content:encoded><![CDATA[<p>RuyiSDK 0.12 现已发布，对应的包管理器版本也为 0.12.0。您可前往以下位置之一下载 RuyiSDK 包管理器：</p>
<ul>
<li><a href="https://github.com/ruyisdk/ruyi/releases/tag/0.12.0" target="_blank" rel="noopener noreferrer">https://github.com/ruyisdk/ruyi/releases/tag/0.12.0</a></li>
<li><a href="https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.12.0/" target="_blank" rel="noopener noreferrer">https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.12.0/</a></li>
</ul>
<p>本次更新主要包含了以下内容，祝您使用愉快！</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-包管理器">RuyiSDK 包管理器<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 包管理器" title="Direkter Link zur RuyiSDK 包管理器" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/06/11/ruyi-0.12.zh_CN#ruyisdk-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8">​</a></h2>
<ul>
<li>修复了先前 Pine64 Star64 Armbian 镜像无法下载的问题。</li>
<li>对于部分必须由用户手工下载的文件，支持了相应的用户体验：按照当前系统语言设置，渲染相应的提示语。</li>
<li>升级了 pygit2 依赖库版本到 1.5.0，以支持 libgit2 的 1.8 版本。</li>
<li>修复了 <code>XDG_STATE_HOME</code> 环境变量被无视的问题。</li>
</ul>
<p>为了支持刷写方式复杂、需要夹杂人工干预、镜像文件需要手工下载等复杂情况下的设备初始化，我们正在对设备安装器进行重构，预计将于下个版本付诸测试。届时旧版
<code>ruyi</code> 的设备安装器功能将不可用，请先升级再进行体验。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[RuyiSDK 0.11 版本更新说明]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/05/28/ruyi-0.11.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/05/28/ruyi-0.11.zh_CN</guid>
            <pubDate>Tue, 28 May 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[RuyiSDK 0.11 现已发布，对应的包管理器版本也为 0.11.0。您可前往以下位置之一下载 RuyiSDK 包管理器：]]></description>
            <content:encoded><![CDATA[<p>RuyiSDK 0.11 现已发布，对应的包管理器版本也为 0.11.0。您可前往以下位置之一下载 RuyiSDK 包管理器：</p>
<ul>
<li><a href="https://github.com/ruyisdk/ruyi/releases/tag/0.11.0" target="_blank" rel="noopener noreferrer">https://github.com/ruyisdk/ruyi/releases/tag/0.11.0</a></li>
<li><a href="https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.11.0/" target="_blank" rel="noopener noreferrer">https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.11.0/</a></li>
</ul>
<p>本次更新主要包含了以下内容，祝您使用愉快！</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-包管理器">RuyiSDK 包管理器<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 包管理器" title="Direkter Link zur RuyiSDK 包管理器" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/05/28/ruyi-0.11.zh_CN#ruyisdk-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8">​</a></h2>
<ul>
<li>去除了先前唯一的 LGPL 依赖。现在 RuyiSDK 包管理器及其所有依赖都采用宽松开源许可证了，方便下游用户在商业场景取用。</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-软件源">RuyiSDK 软件源<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 软件源" title="Direkter Link zur RuyiSDK 软件源" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/05/28/ruyi-0.11.zh_CN#ruyisdk-%E8%BD%AF%E4%BB%B6%E6%BA%90">​</a></h2>
<ul>
<li>Ruyi 设备安装器（<code>ruyi device provision</code>）现已新增支持以下设备型号：<!-- -->
<ul>
<li>Pine64 Star64</li>
</ul>
</li>
</ul>
<p>请在升级 RuyiSDK 包管理器之后，执行 <code>ruyi update</code> 以拉取软件源更新。</p>
<p>我们注意到越来越多的设备型号，甚至如最新面世的 BananaPi BPI-F3
等等，其系统镜像仅以网盘（百度网盘、Google Drive、MEGA 等服务）方式分发。
对这些设备型号的妥善支持面临挑战；在接下来的版本迭代中，我们将尝试支持此场景，敬请期待或参与进来。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[RuyiSDK 0.10 版本更新说明]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/05/14/ruyi-0.10.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/05/14/ruyi-0.10.zh_CN</guid>
            <pubDate>Tue, 14 May 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[RuyiSDK 0.10 现已发布，对应的包管理器版本也为 0.10.0。您可前往以下位置之一下载 RuyiSDK 包管理器：]]></description>
            <content:encoded><![CDATA[<p>RuyiSDK 0.10 现已发布，对应的包管理器版本也为 0.10.0。您可前往以下位置之一下载 RuyiSDK 包管理器：</p>
<ul>
<li><a href="https://github.com/ruyisdk/ruyi/releases/tag/0.10.0" target="_blank" rel="noopener noreferrer">https://github.com/ruyisdk/ruyi/releases/tag/0.10.0</a></li>
<li><a href="https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.10.0/" target="_blank" rel="noopener noreferrer">https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.10.0/</a></li>
</ul>
<p>本次更新主要包含了以下内容，祝您使用愉快！</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-包管理器">RuyiSDK 包管理器<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 包管理器" title="Direkter Link zur RuyiSDK 包管理器" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/05/14/ruyi-0.10.zh_CN#ruyisdk-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8">​</a></h2>
<ul>
<li>支持了全局选项 <code>--porcelain</code> 以方便外部程序与 <code>ruyi</code> 交互。初期为
<code>ruyi list</code> 与 <code>ruyi news list</code> 两种操作适配了 porcelain 输出格式。</li>
<li><code>ruyi news</code> 在某条新闻存在当前系统语言翻译版本时，会优先展示此语言版本了。</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-软件源">RuyiSDK 软件源<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 软件源" title="Direkter Link zur RuyiSDK 软件源" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/05/14/ruyi-0.10.zh_CN#ruyisdk-%E8%BD%AF%E4%BB%B6%E6%BA%90">​</a></h2>
<p>RuyiSDK 自 0.10 版本开始支持沁恒微电子（WCH）RISC-V 产品。</p>
<ul>
<li>新增打包了 PLCT 维护的 LLVM 工具链 <code>toolchain/llvm-plct</code>。其主要特色是支持
<code>XTHeadVector</code> 扩展。</li>
<li>Ruyi 设备安装器（<code>ruyi device provision</code>）现已新增支持以下设备型号：<!-- -->
<ul>
<li>WCH CH32V103 评估板</li>
<li>WCH CH32V203 评估板</li>
<li>WCH CH32V208 评估板</li>
<li>WCH CH32V303 评估板</li>
<li>WCH CH32V305 评估板</li>
<li>WCH CH32V307 评估板</li>
<li>WCH CH582F 评估板</li>
<li>WCH CH592X 评估板</li>
</ul>
</li>
</ul>
<p>请在升级 RuyiSDK 包管理器之后，执行 <code>ruyi update</code> 以拉取软件源更新。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[RuyiSDK 0.9 版本更新说明]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/04/23/ruyi-0.9.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/04/23/ruyi-0.9.zh_CN</guid>
            <pubDate>Tue, 23 Apr 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[RuyiSDK 0.9 现已发布，对应的包管理器版本也为 0.9.0。您可前往以下位置之一下载 RuyiSDK 包管理器：]]></description>
            <content:encoded><![CDATA[<p>RuyiSDK 0.9 现已发布，对应的包管理器版本也为 0.9.0。您可前往以下位置之一下载 RuyiSDK 包管理器：</p>
<ul>
<li><a href="https://github.com/ruyisdk/ruyi/releases/tag/0.9.0" target="_blank" rel="noopener noreferrer">https://github.com/ruyisdk/ruyi/releases/tag/0.9.0</a></li>
<li><a href="https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.9.0/" target="_blank" rel="noopener noreferrer">https://mirror.iscas.ac.cn/ruyisdk/ruyi/releases/0.9.0/</a></li>
</ul>
<p>本次更新主要包含了以下内容，祝您使用愉快！</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-包管理器">RuyiSDK 包管理器<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 包管理器" title="Direkter Link zur RuyiSDK 包管理器" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/04/23/ruyi-0.9.zh_CN#ruyisdk-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8">​</a></h2>
<ul>
<li>支持了 LZ4 格式压缩文件的解包。</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-软件源">RuyiSDK 软件源<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 软件源" title="Direkter Link zur RuyiSDK 软件源" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/04/23/ruyi-0.9.zh_CN#ruyisdk-%E8%BD%AF%E4%BB%B6%E6%BA%90">​</a></h2>
<p>RuyiSDK 自 0.9 版本开始支持矽速（Sipeed）全线 RISC-V 产品。</p>
<p>Ruyi 设备安装器（<code>ruyi device provision</code>）现已新增了以下设备型号：</p>
<ul>
<li>Sipeed LicheeRV Nano</li>
<li>Sipeed Lichee Cluster 4A</li>
<li>Sipeed Lichee Console 4A</li>
<li>Sipeed Maix-I</li>
<li>Sipeed Tang Mega 138K Pro</li>
</ul>
<p>以下设备型号先前已得到 Ruyi 设备安装器支持：</p>
<ul>
<li>Sipeed LicheePi 4A</li>
<li>Sipeed LicheeRV</li>
</ul>
<p>请在升级 RuyiSDK 包管理器之后，执行 <code>ruyi update</code> 以拉取软件源更新。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[RV64ILP32 裸机工具链与 profile 现已可用]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/02/26/gnu-plct-rv64ilp32-elf.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/02/26/gnu-plct-rv64ilp32-elf.zh_CN</guid>
            <pubDate>Mon, 26 Feb 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[为了您的跟踪前沿开发动态方便，RuyiSDK 团队现已打包了 RV64ILP32 这一实验性 ABI 的裸机工具链供您使用。]]></description>
            <content:encoded><![CDATA[<p>为了您的跟踪前沿开发动态方便，RuyiSDK 团队现已打包了 RV64ILP32 这一实验性 ABI 的裸机工具链供您使用。
由于是裸机工具链，此工具链不自带 sysroot，且未开启 multilib：可用的 ABI 为 <code>ilp32d</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="使用示例">使用示例<a class="hash-link" aria-label="Direkter Link zur 使用示例" title="Direkter Link zur 使用示例" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/02/26/gnu-plct-rv64ilp32-elf.zh_CN#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B">​</a></h2>
<p>给定如下的 C 程序：</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// test.c</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">a </span><span class="token operator">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Should be realized with `ld` and `add`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">check</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">check_sizes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">check</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// a0 should be 4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">check</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)">// a0 should be 4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">check</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// a0 should be 8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">check</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)">// a0 should be 4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>使用相应的工具链包与 profile，我们将可编译出符合 RV64ILP32 ABI 的目标代码：</p>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ ruyi update</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ ruyi install gnu-plct-rv64ilp32-elf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ ruyi venv -t gnu-plct-rv64ilp32-elf --without-sysroot baremetal-rv64ilp32 /tmp/venv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ source /tmp/venv/bin/ruyi-activate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ /tmp/venv11/bin/riscv64-plct-elf-gcc -O2 -c -o test.o test.c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>检查目标代码是否符合预期：</p>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ riscv64-plct-elf-readelf -h test.o | grep 32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Class:                             ELF32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Flags:                             0x25, RVC, X32, double-float ABI</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell-session codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell-session codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ riscv64-plct-elf-objdump -dw test.o</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">test.o:     file format elf32-littleriscv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Disassembly of section .text:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">00000000 &lt;add&gt;:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   0:   6108                    ld      a0,0(a0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   2:   952e                    add     a0,a0,a1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   4:   8082                    ret</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">00000006 &lt;check_sizes&gt;:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   6:   3141                    addiw   sp,sp,-16</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   8:   4511                    li      a0,4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   a:   e406                    sd      ra,8(sp)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   c:   00000097                auipc   ra,0x0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  10:   000080e7                jalr    ra # c &lt;check_sizes+0x6&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  14:   4511                    li      a0,4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  16:   00000097                auipc   ra,0x0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  1a:   000080e7                jalr    ra # 16 &lt;check_sizes+0x10&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  1e:   4521                    li      a0,8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  20:   00000097                auipc   ra,0x0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  24:   000080e7                jalr    ra # 20 &lt;check_sizes+0x1a&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  28:   60a2                    ld      ra,8(sp)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  2a:   4511                    li      a0,4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  2c:   2141                    addiw   sp,sp,16</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  2e:   00000317                auipc   t1,0x0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  32:   00030067                jr      t1 # 2e &lt;check_sizes+0x28&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可见，此工具链确实生成了指针宽度为 32 位，但利用了 RV64 能力的目标代码。</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[新增板卡支持 (2024-01-29)]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/new-board-images.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/new-board-images.zh_CN</guid>
            <pubDate>Mon, 29 Jan 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[现已为以下板卡新增了镜像包。]]></description>
            <content:encoded><![CDATA[<p>现已为以下板卡新增了镜像包。</p>
<p>您可用 RuyiSDK 设备安装向导 <code>ruyi device provision</code> 自动初始化您的设备，或通过
<code>ruyi install</code> 手动安装它们：镜像文件会被自动解压或符号链接到 <code>~/.local/share/ruyi/blobs/&lt;包名&gt;-&lt;包版本号&gt;</code> 的位置。</p>
<p>感谢您对 RuyiSDK 的支持！</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="sipeed-licheerv--allwinner-哪吒-d1">Sipeed LicheeRV &amp; Allwinner 哪吒 D1<a class="hash-link" aria-label="Direkter Link zur Sipeed LicheeRV &amp; Allwinner 哪吒 D1" title="Direkter Link zur Sipeed LicheeRV &amp; Allwinner 哪吒 D1" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/new-board-images.zh_CN#sipeed-licheerv--allwinner-%E5%93%AA%E5%90%92-d1">​</a></h2>
<p>此两种型号在硬件层面大体兼容，但也有细微差别，仅体现在设备树层面。</p>
<ul>
<li><code>board-image/oerv-awol-d1-base</code>: openEuler RISC-V 系统镜像，基础系统</li>
<li><code>board-image/oerv-awol-d1-xfce</code>: openEuler RISC-V 系统镜像，含 XFCE GUI</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="starfive-visionfive">StarFive VisionFive<a class="hash-link" aria-label="Direkter Link zur StarFive VisionFive" title="Direkter Link zur StarFive VisionFive" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/new-board-images.zh_CN#starfive-visionfive">​</a></h2>
<ul>
<li><code>board-image/oerv-starfive-visionfive-base</code>: openEuler RISC-V 系统镜像，基础系统</li>
<li><code>board-image/oerv-starfive-visionfive-xfce</code>: openEuler RISC-V 系统镜像，含 XFCE GUI</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="starfive-visionfive2">StarFive VisionFive2<a class="hash-link" aria-label="Direkter Link zur StarFive VisionFive2" title="Direkter Link zur StarFive VisionFive2" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/new-board-images.zh_CN#starfive-visionfive2">​</a></h2>
<ul>
<li><code>board-image/oerv-starfive-visionfive2-base</code>: openEuler RISC-V 系统镜像，基础系统</li>
<li><code>board-image/oerv-starfive-visionfive2-xfce</code>: openEuler RISC-V 系统镜像，含 XFCE GUI</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[RuyiSDK 0.4 版本更新说明]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/ruyi-0.4.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/ruyi-0.4.zh_CN</guid>
            <pubDate>Mon, 29 Jan 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[RuyiSDK 0.4 现已发布，对应的包管理器版本也为 0.4.0。您可前往 RuyiSDK 包管理器的]]></description>
            <content:encoded><![CDATA[<p>RuyiSDK 0.4 现已发布，对应的包管理器版本也为 0.4.0。您可前往 RuyiSDK 包管理器的
GitHub Releases 页面: <a href="https://github.com/ruyisdk/ruyi/releases" target="_blank" rel="noopener noreferrer">https://github.com/ruyisdk/ruyi/releases</a> 下载。</p>
<p>本次更新主要包含了以下内容，祝您使用愉快！</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-包管理器">RuyiSDK 包管理器<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 包管理器" title="Direkter Link zur RuyiSDK 包管理器" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/ruyi-0.4.zh_CN#ruyisdk-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8">​</a></h2>
<ul>
<li><code>ruyi device provision</code> 会将 <code>fastboot</code> 的调用以 <code>sudo</code> 包装了。</li>
<li><code>ruyi self uninstall --purge</code> 不会忘记删除 <code>~/.local/state/ruyi</code> 目录了。</li>
<li>从软件源下载文件失败时，会提供一些有助于用户自助排查问题的提示讯息了。</li>
<li>为提供更稳定的服务，RuyiSDK 软件源仓库现已搬迁至 GitHub。
视您所在地区或组织所可能设置的网络访问限制，您可能需要采取一些措施，
以便能继续与 RuyiSDK 软件源同步。</li>
</ul>
<p>原先位置的 RuyiSDK 软件源仓库将在 2024-02-01 前后停止更新。请尽早更新您的
<code>ruyi</code> 版本以自动迁移到最新配置。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="ruyisdk-软件源">RuyiSDK 软件源<a class="hash-link" aria-label="Direkter Link zur RuyiSDK 软件源" title="Direkter Link zur RuyiSDK 软件源" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/29/ruyi-0.4.zh_CN#ruyisdk-%E8%BD%AF%E4%BB%B6%E6%BA%90">​</a></h2>
<ul>
<li>为 RISC-V 架构的系统，新增提供了 DynamoRIO 套件 <code>analyzer/dynamorio-riscv</code>。</li>
<li>为 AMD64 架构的系统，新增提供了 QEMU 系统模拟器 <code>emulator/qemu-system-riscv-upstream</code>。</li>
<li>上游版的 QEMU 版本现已升级至 8.2.0。</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[新增板卡支持 (2024-01-15)]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/15/new-board-images.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/15/new-board-images.zh_CN</guid>
            <pubDate>Mon, 15 Jan 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[现已为以下板卡新增了镜像包。]]></description>
            <content:encoded><![CDATA[<p>现已为以下板卡新增了镜像包。</p>
<p>您可用 <code>ruyi install</code> 安装它们：镜像文件会被自动解压或符号链接到 <code>~/.local/share/ruyi/blobs/&lt;包名&gt;-&lt;包版本号&gt;</code> 的位置。</p>
<p>感谢您对 RuyiSDK 的支持！</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="milk-v-duo">Milk-V Duo<a class="hash-link" aria-label="Direkter Link zur Milk-V Duo" title="Direkter Link zur Milk-V Duo" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/15/new-board-images.zh_CN#milk-v-duo">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="64m-ram-版本">64M RAM 版本<a class="hash-link" aria-label="Direkter Link zur 64M RAM �版本" title="Direkter Link zur 64M RAM 版本" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/15/new-board-images.zh_CN#64m-ram-%E7%89%88%E6%9C%AC">​</a></h3>
<ul>
<li><code>board-image/buildroot-sdk-milkv-duo</code>: 官方 Buildroot SDK</li>
<li><code>board-image/buildroot-sdk-milkv-duo-python</code>: 官方 Buildroot SDK，含 Python 环境</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_emO8" id="256m-ram-版本">256M RAM 版本<a class="hash-link" aria-label="Direkter Link zur 256M RAM 版本" title="Direkter Link zur 256M RAM 版本" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/15/new-board-images.zh_CN#256m-ram-%E7%89%88%E6%9C%AC">​</a></h3>
<ul>
<li><code>board-image/buildroot-sdk-milkv-duo256m</code>: 官方 Buildroot SDK</li>
<li><code>board-image/buildroot-sdk-milkv-duo256m-python</code>: 官方 Buildroot SDK，含 Python 环境</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="milk-v-pioneer">Milk-V Pioneer<a class="hash-link" aria-label="Direkter Link zur Milk-V Pioneer" title="Direkter Link zur Milk-V Pioneer" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/15/new-board-images.zh_CN#milk-v-pioneer">​</a></h2>
<ul>
<li><code>board-image/oerv-sg2042-milkv-pioneer-base</code>: openEuler RISC-V 系统镜像，基础系统</li>
<li><code>board-image/oerv-sg2042-milkv-pioneer-xfce</code>: openEuler RISC-V 系统镜像，含 XFCE GUI</li>
<li><code>board-image/revyos-sg2042-milkv-pioneer</code>: RevyOS 系统镜像</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_emO8" id="sipeed-licheepi-4a">Sipeed LicheePi 4A<a class="hash-link" aria-label="Direkter Link zur Sipeed LicheePi 4A" title="Direkter Link zur Sipeed LicheePi 4A" href="https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/15/new-board-images.zh_CN#sipeed-licheepi-4a">​</a></h2>
<p>系统镜像：</p>
<ul>
<li><code>board-image/oerv-sipeed-lpi4a-headless</code>: openEuler RISC-V 系统镜像，不含 GUI</li>
<li><code>board-image/oerv-sipeed-lpi4a-xfce</code>: openEuler RISC-V 系统镜像，含 XFCE GUI</li>
<li><code>board-image/revyos-sipeed-lpi4a</code>: RevyOS 系统镜像</li>
</ul>
<p>引导器（U-Boot）：</p>
<ul>
<li><code>board-image/uboot-oerv-sipeed-lpi4a-16g</code>: 适用 Sipeed LicheePi 4A (16G RAM) 的 openEuler 系统</li>
<li><code>board-image/uboot-oerv-sipeed-lpi4a-8g</code>: 适用 Sipeed LicheePi 4A (8G RAM) 的 openEuler 系统</li>
<li><code>board-image/uboot-revyos-sipeed-lpi4a-16g</code>: 适用 Sipeed LicheePi 4A (16G RAM) 的 RevyOS 系统</li>
<li><code>board-image/uboot-revyos-sipeed-lpi4a-8g</code>: 适用 Sipeed LicheePi 4A (8G RAM) 的 RevyOS 系统</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[RuyiSDK 支持展示新闻了]]></title>
            <link>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/14/ruyi-news.zh_CN</link>
            <guid>https://arhchfeh.github.io/ruyisdk-org/de/blog/2024/01/14/ruyi-news.zh_CN</guid>
            <pubDate>Sun, 14 Jan 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[为方便您及时了解 RuyiSDK 的开发动态，我们为 ruyi 工具新增了新闻支持。]]></description>
            <content:encoded><![CDATA[<p>为方便您及时了解 RuyiSDK 的开发动态，我们为 <code>ruyi</code> 工具新增了新闻支持。</p>
<p>如果您使用 ruyi 0.3 或更高的版本，那么当您完成 <code>ruyi update</code> 之后，
如果软件源中有新增的新闻条目，将在命令输出中提示。
您可用 <code>ruyi news list</code> 列出它们，并用 <code>ruyi news read</code> 阅读它们。</p>
<p>感谢您对 RuyiSDK 的支持！</p>]]></content:encoded>
        </item>
    </channel>
</rss>